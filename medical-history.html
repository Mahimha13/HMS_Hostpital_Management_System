<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" />
<title>HMS — Medical History</title>
<style>
  body{margin:0;font-family:Inter,Arial;background:#f6fbff}
  header{padding:12px;background:linear-gradient(90deg,#fff,#f1f9ff)}
  .wrap{max-width:1000px;margin:18px auto;padding:12px}
  .card{background:#fff;padding:14px;border-radius:12px;box-shadow:0 8px 30px rgba(6,12,30,0.06)}
  .entry{padding:10px;border-bottom:1px dashed #eef6ff}
  .muted{color:#6b7280}
</style>
</head>
<body>
<header><a href="file:///Users/mahimhaarunkavitha/Desktop/patient-dashboard.html">← Back</a></header>
<main class="wrap">
  <div class="card">
    <h3>Medical History</h3>
    <p class="muted"></p>

    <div id="historyList" style="margin-top:8px"></div>

    <div style="margin-top:12px">
      <h4>Add record</h4>
      <input id="recTitle" placeholder="Visit reason (e.g. Fever)" style="width:100%;padding:8px;border-radius:8px;border:1px solid #eef6ff"/>
      <textarea id="recNotes" placeholder="Notes / prescription" style="width:100%;padding:8px;border-radius:8px;border:1px solid #eef6ff;margin-top:8px"></textarea>
      <div style="margin-top:8px; display:flex; justify-content:flex-end"><button onclick="addRecord()" style="padding:8px 12px;border-radius:8px;background:#1177ee;color:white;border:none">Add</button></div>
    </div>
  </div>
</main>

<script>
function getHistory(){ return JSON.parse(localStorage.getItem('hms_history')||'[]'); }
function saveHistory(h){ localStorage.setItem('hms_history', JSON.stringify(h)); }
function render(){
  const list = getHistory(), el=document.getElementById('historyList'); el.innerHTML='';
  if(list.length===0) el.innerHTML='<div class="muted">No records</div>';
  list.forEach(r=>{
    const d=document.createElement('div'); d.className='entry';
    d.innerHTML = `<strong>${r.title}</strong><div class="muted">${new Date(r.time).toLocaleString()}</div><div style="margin-top:6px">${r.notes}</div>`;
    el.appendChild(d);
  });
}
function addRecord(){
  const t=document.getElementById('recTitle').value.trim();
  const n=document.getElementById('recNotes').value.trim();
  if(!t || !n) { alert('Provide title and notes'); return; }
  const arr=getHistory(); arr.unshift({ id:'h'+Date.now(), title:t, notes:n, time:new Date().toISOString() }); saveHistory(arr); render();
  document.getElementById('recTitle').value=''; document.getElementById('recNotes').value='';
}
render();
</script>
</body>
</html>
